{"ast":null,"code":"import React,{useRef,useState,useEffect}from\"react\";import\"./Video.css\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Video(_ref){let{url,channel,description,likes,messages,shares,isAd,adLink}=_ref;const videoRef=useRef(null);const[isMuted,setIsMuted]=useState(false);const[showMutedMessage,setShowMutedMessage]=useState(false);useEffect(()=>{const video=videoRef.current;if(!video)return;const observer=new IntersectionObserver(_ref2=>{let[entry]=_ref2;if(entry.isIntersecting){video.play().catch(err=>{console.warn(\"Autoplay failed:\",err);});}else{video.pause();}},{threshold:0.75});observer.observe(video);return()=>observer.unobserve(video);},[]);const handleVideoClick=e=>{if(e.target.closest(\".video__sidebar\")||e.target.closest(\".video__footer\"))return;const video=videoRef.current;if(!video)return;const nextMuted=!video.muted;video.muted=nextMuted;setIsMuted(nextMuted);if(nextMuted){setShowMutedMessage(true);setTimeout(()=>setShowMutedMessage(false),1500);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"video\",onClick:handleVideoClick,children:[/*#__PURE__*/_jsx(\"video\",{className:\"video__player\",ref:videoRef,src:url,playsInline:true,loop:true,muted:false,preload:\"none\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"video__sidebar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"video__button\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined\",style:{fontSize:'36px'},children:\"thumb_up\"}),/*#__PURE__*/_jsx(\"span\",{children:likes})]}),/*#__PURE__*/_jsx(\"div\",{className:\"video__button\",children:/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined\",style:{fontSize:'36px'},children:\"thumb_down\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"video__button\",children:/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined\",style:{fontSize:'36px'},children:\"comment\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"video__button\",children:/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined\",style:{fontSize:'36px'},children:\"share\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"video__footer\",children:[!isAd&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"video__channel\",children:[/*#__PURE__*/_jsxs(\"strong\",{children:[\"@\",channel]}),/*#__PURE__*/_jsx(\"button\",{children:\"Abonnieren\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"video__description\",children:description})]}),isAd&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"video__description\",children:description}),/*#__PURE__*/_jsx(\"a\",{href:adLink||\"#\",target:\"_blank\",rel:\"noopener noreferrer\",className:\"video__register-button centered\",children:\"Jetzt registrieren\"})]})]}),showMutedMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"video__loading\",children:\"\\uD83D\\uDD07 Ton ist aus\"})]});}export default Video;","map":{"version":3,"names":["React","useRef","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Video","_ref","url","channel","description","likes","messages","shares","isAd","adLink","videoRef","isMuted","setIsMuted","showMutedMessage","setShowMutedMessage","video","current","observer","IntersectionObserver","_ref2","entry","isIntersecting","play","catch","err","console","warn","pause","threshold","observe","unobserve","handleVideoClick","e","target","closest","nextMuted","muted","setTimeout","className","onClick","children","ref","src","playsInline","loop","preload","style","fontSize","href","rel"],"sources":["C:/Users/bulat/Desktop/—ã—Ä—â–∫/src/components/Video.js"],"sourcesContent":["import React, { useRef, useState, useEffect } from \"react\";\r\nimport \"./Video.css\";\r\n\r\nfunction Video({ url, channel, description, likes, messages, shares, isAd, adLink }) {\r\n  const videoRef = useRef(null);\r\n  const [isMuted, setIsMuted] = useState(false);\r\n  const [showMutedMessage, setShowMutedMessage] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const video = videoRef.current;\r\n    if (!video) return;\r\n\r\n    const observer = new IntersectionObserver(\r\n      ([entry]) => {\r\n        if (entry.isIntersecting) {\r\n          video.play().catch((err) => {\r\n            console.warn(\"Autoplay failed:\", err);\r\n          });\r\n        } else {\r\n          video.pause();\r\n        }\r\n      },\r\n      { threshold: 0.75 }\r\n    );\r\n\r\n    observer.observe(video);\r\n\r\n    return () => observer.unobserve(video);\r\n  }, []);\r\n\r\n  const handleVideoClick = (e) => {\r\n    if (\r\n      e.target.closest(\".video__sidebar\") ||\r\n      e.target.closest(\".video__footer\")\r\n    )\r\n      return;\r\n\r\n    const video = videoRef.current;\r\n    if (!video) return;\r\n\r\n    const nextMuted = !video.muted;\r\n    video.muted = nextMuted;\r\n    setIsMuted(nextMuted);\r\n\r\n    if (nextMuted) {\r\n      setShowMutedMessage(true);\r\n      setTimeout(() => setShowMutedMessage(false), 1500);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"video\" onClick={handleVideoClick}>\r\n      <video\r\n        className=\"video__player\"\r\n        ref={videoRef}\r\n        src={url}\r\n        playsInline\r\n        loop\r\n        muted={false}\r\n        preload=\"none\"\r\n      />\r\n\r\n      <div className=\"video__sidebar\">\r\n  <div className=\"video__button\">\r\n    <span className=\"material-symbols-outlined\" style={{ fontSize: '36px' }}>thumb_up</span>\r\n    <span>{likes}</span>\r\n  </div>\r\n  <div className=\"video__button\">\r\n    <span className=\"material-symbols-outlined\" style={{ fontSize: '36px' }}>thumb_down</span>\r\n  </div>\r\n  <div className=\"video__button\">\r\n    <span className=\"material-symbols-outlined\" style={{ fontSize: '36px' }}>comment</span>\r\n  </div>\r\n  <div className=\"video__button\">\r\n    <span className=\"material-symbols-outlined\" style={{ fontSize: '36px' }}>share</span>\r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n      <div className=\"video__footer\">\r\n  {!isAd && (\r\n    <>\r\n      <div className=\"video__channel\">\r\n        <strong>@{channel}</strong>\r\n        <button>Abonnieren</button>\r\n      </div>\r\n      <div className=\"video__description\">{description}</div>\r\n    </>\r\n  )}\r\n\r\n  {isAd && (\r\n    <>\r\n      {/* –û–ø–∏—Å–∞–Ω–∏–µ –±–µ–∑ —Å–ª–æ–≤–∞ \"–†–µ–∫–ª–∞–º–∞\" */}\r\n      <div className=\"video__description\">{description}</div>\r\n\r\n      {/* –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–Ω–æ–ø–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ */}\r\n      <a\r\n        href={adLink || \"#\"}\r\n        target=\"_blank\"\r\n        rel=\"noopener noreferrer\"\r\n        className=\"video__register-button centered\"\r\n      >\r\n        Jetzt registrieren\r\n      </a>\r\n    </>\r\n  )}\r\n</div>\r\n\r\n\r\n\r\n      {showMutedMessage && <div className=\"video__loading\">üîá Ton ist aus</div>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Video;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,MAAM,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC1D,MAAO,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAErB,QAAS,CAAAC,KAAKA,CAAAC,IAAA,CAAuE,IAAtE,CAAEC,GAAG,CAAEC,OAAO,CAAEC,WAAW,CAAEC,KAAK,CAAEC,QAAQ,CAAEC,MAAM,CAAEC,IAAI,CAAEC,MAAO,CAAC,CAAAR,IAAA,CACjF,KAAM,CAAAS,QAAQ,CAAGnB,MAAM,CAAC,IAAI,CAAC,CAC7B,KAAM,CAACoB,OAAO,CAAEC,UAAU,CAAC,CAAGpB,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACqB,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGtB,QAAQ,CAAC,KAAK,CAAC,CAE/DC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAsB,KAAK,CAAGL,QAAQ,CAACM,OAAO,CAC9B,GAAI,CAACD,KAAK,CAAE,OAEZ,KAAM,CAAAE,QAAQ,CAAG,GAAI,CAAAC,oBAAoB,CACvCC,KAAA,EAAa,IAAZ,CAACC,KAAK,CAAC,CAAAD,KAAA,CACN,GAAIC,KAAK,CAACC,cAAc,CAAE,CACxBN,KAAK,CAACO,IAAI,CAAC,CAAC,CAACC,KAAK,CAAEC,GAAG,EAAK,CAC1BC,OAAO,CAACC,IAAI,CAAC,kBAAkB,CAAEF,GAAG,CAAC,CACvC,CAAC,CAAC,CACJ,CAAC,IAAM,CACLT,KAAK,CAACY,KAAK,CAAC,CAAC,CACf,CACF,CAAC,CACD,CAAEC,SAAS,CAAE,IAAK,CACpB,CAAC,CAEDX,QAAQ,CAACY,OAAO,CAACd,KAAK,CAAC,CAEvB,MAAO,IAAME,QAAQ,CAACa,SAAS,CAACf,KAAK,CAAC,CACxC,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAgB,gBAAgB,CAAIC,CAAC,EAAK,CAC9B,GACEA,CAAC,CAACC,MAAM,CAACC,OAAO,CAAC,iBAAiB,CAAC,EACnCF,CAAC,CAACC,MAAM,CAACC,OAAO,CAAC,gBAAgB,CAAC,CAElC,OAEF,KAAM,CAAAnB,KAAK,CAAGL,QAAQ,CAACM,OAAO,CAC9B,GAAI,CAACD,KAAK,CAAE,OAEZ,KAAM,CAAAoB,SAAS,CAAG,CAACpB,KAAK,CAACqB,KAAK,CAC9BrB,KAAK,CAACqB,KAAK,CAAGD,SAAS,CACvBvB,UAAU,CAACuB,SAAS,CAAC,CAErB,GAAIA,SAAS,CAAE,CACbrB,mBAAmB,CAAC,IAAI,CAAC,CACzBuB,UAAU,CAAC,IAAMvB,mBAAmB,CAAC,KAAK,CAAC,CAAE,IAAI,CAAC,CACpD,CACF,CAAC,CAED,mBACEjB,KAAA,QAAKyC,SAAS,CAAC,OAAO,CAACC,OAAO,CAAER,gBAAiB,CAAAS,QAAA,eAC/C7C,IAAA,UACE2C,SAAS,CAAC,eAAe,CACzBG,GAAG,CAAE/B,QAAS,CACdgC,GAAG,CAAExC,GAAI,CACTyC,WAAW,MACXC,IAAI,MACJR,KAAK,CAAE,KAAM,CACbS,OAAO,CAAC,MAAM,CACf,CAAC,cAEFhD,KAAA,QAAKyC,SAAS,CAAC,gBAAgB,CAAAE,QAAA,eACnC3C,KAAA,QAAKyC,SAAS,CAAC,eAAe,CAAAE,QAAA,eAC5B7C,IAAA,SAAM2C,SAAS,CAAC,2BAA2B,CAACQ,KAAK,CAAE,CAAEC,QAAQ,CAAE,MAAO,CAAE,CAAAP,QAAA,CAAC,UAAQ,CAAM,CAAC,cACxF7C,IAAA,SAAA6C,QAAA,CAAOnC,KAAK,CAAO,CAAC,EACjB,CAAC,cACNV,IAAA,QAAK2C,SAAS,CAAC,eAAe,CAAAE,QAAA,cAC5B7C,IAAA,SAAM2C,SAAS,CAAC,2BAA2B,CAACQ,KAAK,CAAE,CAAEC,QAAQ,CAAE,MAAO,CAAE,CAAAP,QAAA,CAAC,YAAU,CAAM,CAAC,CACvF,CAAC,cACN7C,IAAA,QAAK2C,SAAS,CAAC,eAAe,CAAAE,QAAA,cAC5B7C,IAAA,SAAM2C,SAAS,CAAC,2BAA2B,CAACQ,KAAK,CAAE,CAAEC,QAAQ,CAAE,MAAO,CAAE,CAAAP,QAAA,CAAC,SAAO,CAAM,CAAC,CACpF,CAAC,cACN7C,IAAA,QAAK2C,SAAS,CAAC,eAAe,CAAAE,QAAA,cAC5B7C,IAAA,SAAM2C,SAAS,CAAC,2BAA2B,CAACQ,KAAK,CAAE,CAAEC,QAAQ,CAAE,MAAO,CAAE,CAAAP,QAAA,CAAC,OAAK,CAAM,CAAC,CAClF,CAAC,EACH,CAAC,cAIA3C,KAAA,QAAKyC,SAAS,CAAC,eAAe,CAAAE,QAAA,EACjC,CAAChC,IAAI,eACJX,KAAA,CAAAE,SAAA,EAAAyC,QAAA,eACE3C,KAAA,QAAKyC,SAAS,CAAC,gBAAgB,CAAAE,QAAA,eAC7B3C,KAAA,WAAA2C,QAAA,EAAQ,GAAC,CAACrC,OAAO,EAAS,CAAC,cAC3BR,IAAA,WAAA6C,QAAA,CAAQ,YAAU,CAAQ,CAAC,EACxB,CAAC,cACN7C,IAAA,QAAK2C,SAAS,CAAC,oBAAoB,CAAAE,QAAA,CAAEpC,WAAW,CAAM,CAAC,EACvD,CACH,CAEAI,IAAI,eACHX,KAAA,CAAAE,SAAA,EAAAyC,QAAA,eAEE7C,IAAA,QAAK2C,SAAS,CAAC,oBAAoB,CAAAE,QAAA,CAAEpC,WAAW,CAAM,CAAC,cAGvDT,IAAA,MACEqD,IAAI,CAAEvC,MAAM,EAAI,GAAI,CACpBwB,MAAM,CAAC,QAAQ,CACfgB,GAAG,CAAC,qBAAqB,CACzBX,SAAS,CAAC,iCAAiC,CAAAE,QAAA,CAC5C,oBAED,CAAG,CAAC,EACJ,CACH,EACE,CAAC,CAIC3B,gBAAgB,eAAIlB,IAAA,QAAK2C,SAAS,CAAC,gBAAgB,CAAAE,QAAA,CAAC,0BAAc,CAAK,CAAC,EACtE,CAAC,CAEV,CAEA,cAAe,CAAAxC,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}